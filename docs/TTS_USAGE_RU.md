# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é TTS

–ë–æ—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ —Ç–µ–∫—Å—Ç–∞-–≤-—Ä–µ—á—å (TTS). –í—ã –º–æ–∂–µ—Ç–µ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É –Ω–∏–º–∏.

## –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã

### OpenAI TTS
- –í—ã—Å–æ–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –Ω–µ–π—Ä–æ–Ω–Ω—ã–µ –≥–æ–ª–æ—Å–∞
- –¢—Ä–µ–±—É–µ—Ç—Å—è API –∫–ª—é—á OpenAI
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–æ–Ω—Ç—Ä–æ–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏ (0.25x - 4.0x)
- –î–æ—Å—Ç—É–ø–Ω—ã–µ –≥–æ–ª–æ—Å–∞: alloy, echo, fable, onyx, nova, shimmer
- –°—Ç–æ–∏–º–æ—Å—Ç—å: ~$15 –∑–∞ 1–ú —Å–∏–º–≤–æ–ª–æ–≤

### Edge TTS
- –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Å–µ—Ä–≤–∏—Å Microsoft Edge TTS
- –ù–µ —Ç—Ä–µ–±—É–µ—Ç API –∫–ª—é—á
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ —è–∑—ã–∫–æ–≤
- –î–æ—Å—Ç—É–ø–Ω—ã–µ –≥–æ–ª–æ—Å–∞:
  - –†—É—Å—Å–∫–∏–µ: ru-RU-DmitryNeural, ru-RU-SvetlanaNeural
  - –ê–Ω–≥–ª–∏–π—Å–∫–∏–µ: en-US-GuyNeural, en-US-JennyNeural, en-US-AriaNeural

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Edge TTS
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ edge-tts —á–µ—Ä–µ–∑ pip
pip install edge-tts

# –ò–ª–∏ —á–µ—Ä–µ–∑ uv (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
uv pip install edge-tts

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
edge-tts --list-voices
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `~/.ok-gobot/config.yaml`:

```yaml
# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ TTS
tts:
  provider: "edge"        # –∏–ª–∏ "openai"
  default_voice: "ru-RU-DmitryNeural"  # –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
```

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
```
/tts –ü—Ä–∏–≤–µ—Ç, –∫–∞–∫ –¥–µ–ª–∞?
/tts Hello, how are you?
```

### –Ø–≤–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
```
/tts edge:–ü—Ä–∏–≤–µ—Ç, —ç—Ç–æ Edge TTS
/tts openai:Hello, this is OpenAI TTS
```

### –í—ã–±–æ—Ä –≥–æ–ª–æ—Å–∞
```
/tts --voice ru-RU-SvetlanaNeural –ü—Ä–∏–≤–µ—Ç –æ—Ç –°–≤–µ—Ç–ª–∞–Ω—ã
/tts --voice en-US-GuyNeural Hello from Guy
```

### OpenAI —Å –∫–æ–Ω—Ç—Ä–æ–ª–µ–º —Å–∫–æ—Ä–æ—Å—Ç–∏
```
/tts openai:–ë—ã—Å—Ç—Ä–∞—è —Ä–µ—á—å --speed 1.5
/tts openai:–ú–µ–¥–ª–µ–Ω–Ω–∞—è —Ä–µ—á—å --speed 0.75
```

## –í—ã–±–æ—Ä –≥–æ–ª–æ—Å–∞

### –ì–æ–ª–æ—Å–∞ Edge TTS
- **ru-RU-DmitryNeural** - –†—É—Å—Å–∫–∏–π –º—É–∂—Å–∫–æ–π –≥–æ–ª–æ—Å (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- **ru-RU-SvetlanaNeural** - –†—É—Å—Å–∫–∏–π –∂–µ–Ω—Å–∫–∏–π –≥–æ–ª–æ—Å
- **en-US-GuyNeural** - –ê–Ω–≥–ª–∏–π—Å–∫–∏–π –º—É–∂—Å–∫–æ–π –≥–æ–ª–æ—Å
- **en-US-JennyNeural** - –ê–Ω–≥–ª–∏–π—Å–∫–∏–π –∂–µ–Ω—Å–∫–∏–π –≥–æ–ª–æ—Å
- **en-US-AriaNeural** - –ê–Ω–≥–ª–∏–π—Å–∫–∏–π –∂–µ–Ω—Å–∫–∏–π –≥–æ–ª–æ—Å

### –ì–æ–ª–æ—Å–∞ OpenAI
- **alloy** - –ù–µ–π—Ç—Ä–∞–ª—å–Ω—ã–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- **echo** - –ú—É–∂—Å–∫–æ–π
- **fable** - –° –±—Ä–∏—Ç–∞–Ω—Å–∫–∏–º –∞–∫—Ü–µ–Ω—Ç–æ–º
- **onyx** - –ù–∏–∑–∫–∏–π –º—É–∂—Å–∫–æ–π
- **nova** - –ñ–µ–Ω—Å–∫–∏–π
- **shimmer** - –ú—è–≥–∫–∏–π –∂–µ–Ω—Å–∫–∏–π

## –§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞

–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∞—É–¥–∏–æ—Ñ–∞–π–ª—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç OGG Opus –¥–ª—è Telegram, –µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω `ffmpeg`. –í –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ñ–æ—Ä–º–∞—Ç MP3.

–ë–æ—Ç –æ—Ç–≤–µ—Ç–∏—Ç:
```
üîä –†–µ—á—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–∞!

–ü—Ä–æ–≤–∞–π–¥–µ—Ä: edge
–¢–µ–∫—Å—Ç: –í–∞—à —Ç–µ–∫—Å—Ç –∑–¥–µ—Å—å
–ì–æ–ª–æ—Å: ru-RU-DmitryNeural
–§–∞–π–ª: /tmp/okgobot-tts/tts_edge_1234567890.ogg
```

## –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### Edge TTS –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É edge-tts
which edge-tts

# –¢–µ—Å—Ç edge-tts –Ω–∞–ø—Ä—è–º—É—é
edge-tts --text "–¢–µ—Å—Ç" --voice "ru-RU-DmitryNeural" --write-media test.mp3

# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
pip install --upgrade edge-tts
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å —Ñ–æ—Ä–º–∞—Ç–æ–º –∞—É–¥–∏–æ
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ ffmpeg –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –≤ OGG
brew install ffmpeg  # macOS
apt install ffmpeg   # Linux
```

### –ì–æ–ª–æ—Å –Ω–µ –Ω–∞–π–¥–µ–Ω
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏–º—è –≥–æ–ª–æ—Å–∞ —É–∫–∞–∑–∞–Ω–æ —Ç–æ—á–Ω–æ:
- Edge TTS: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–ª–Ω—ã–π ID –≥–æ–ª–æ—Å–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "ru-RU-DmitryNeural")
- OpenAI: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–º—è –≤ –Ω–∏–∂–Ω–µ–º —Ä–µ–≥–∏—Å—Ç—Ä–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "alloy")

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å—Ç–æ–∏–º–æ—Å—Ç–∏

| –ü—Ä–æ–≤–∞–π–¥–µ—Ä | –°—Ç–æ–∏–º–æ—Å—Ç—å | –ö–∞—á–µ—Å—Ç–≤–æ | –°–∫–æ—Ä–æ—Å—Ç—å | –¢—Ä–µ–±—É–µ—Ç—Å—è API –∫–ª—é—á |
|-----------|-----------|----------|----------|-------------------|
| Edge TTS  | –ë–µ—Å–ø–ª–∞—Ç–Ω–æ | –•–æ—Ä–æ—à–µ–µ | –ë—ã—Å—Ç—Ä–æ | –ù–µ—Ç |
| OpenAI    | $15/1M —Å–∏–º–≤ | –û—Ç–ª–∏—á–Ω–æ–µ | –ë—ã—Å—Ç—Ä–æ | –î–∞ |

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

- **–î–ª—è —Ä—É—Å—Å–∫–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Edge TTS —Å "ru-RU-DmitryNeural" (–±–µ—Å–ø–ª–∞—Ç–Ω–æ, —Ö–æ—Ä–æ—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ)
- **–î–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ OpenAI TTS (—Ç—Ä–µ–±—É–µ—Ç—Å—è API –∫–ª—é—á, –ø–ª–∞—Ç–Ω–æ)
- **–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Edge TTS (–±–µ—Å–ø–ª–∞—Ç–Ω–æ, –±–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏)
- **–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ —Å –±—é–¥–∂–µ—Ç–æ–º**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ OpenAI TTS
- **–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ –±–µ–∑ –±—é–¥–∂–µ—Ç–∞**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Edge TTS

## –ü—Ä–∏–º–µ—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### –î–ª—è —Ä—É—Å—Å–∫–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)
```yaml
tts:
  provider: "edge"
  default_voice: "ru-RU-DmitryNeural"
```

### –î–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞
```yaml
tts:
  provider: "openai"
  default_voice: "alloy"
```

### –ñ–µ–Ω—Å–∫–∏–π —Ä—É—Å—Å–∫–∏–π –≥–æ–ª–æ—Å
```yaml
tts:
  provider: "edge"
  default_voice: "ru-RU-SvetlanaNeural"
```
